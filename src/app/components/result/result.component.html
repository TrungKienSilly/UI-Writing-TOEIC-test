<div class="result-container">
  <!-- Header -->
  <header class="result-header">
    <div class="logo">
      <img src="assets/img/logo.png" alt="logo" class="logo-img" />
      <img src="assets/img/VN-2-1024x512.png" alt="company-name" class="company-img" />
    </div>
    <nav class="nav-menu">
      <a href="#" class="nav-link">Kho√° h·ªçc c·ªßa t√¥i</a>
      <a href="#" class="nav-link">Ch∆∞∆°ng tr√¨nh h·ªçc</a>
      <a href="#" class="nav-link">ƒê·ªÅ thi online</a>
      <a href="#" class="nav-link">Flashcards</a>
      <a href="#" class="nav-link">Blog</a>
    </nav>
    <div class="user-profile">
      <div class="profile-icon">üë§</div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="result-content">
    <div class="result-card">
      <!-- Alert Messages -->
      <div class="alert alert-warning">
        <span class="alert-icon">‚ö†Ô∏è</span>
        B·∫°n ch∆∞a t·∫°o m·ª•c ti√™u cho qu√° tr√¨nh luy·ªán thi c·ªßa m√¨nh. 
        <a href="#" class="alert-link">T·∫°o ngay</a>.
      </div>

      <div class="alert alert-info">
        <span class="alert-icon">üí°</span>
        Ch√∫ √Ω: B·∫°n c√≥ th·ªÉ 
        <a href="#" class="alert-link">t·∫°o flashcards t·ª´ highlights</a> 
        (bao g·ªìm c√°c highlights c√°c b·∫°n ƒë√£ t·∫°o tr∆∞·ªõc ƒë√¢y) trong trang chi ti·∫øt k·∫øt qu·∫£ b√†i thi. 
        <a href="#" class="alert-link">Xem h∆∞·ªõng d·∫´n</a>.
      </div>

      <!-- Title and Actions -->
      <div class="result-title-section">
        <h1 class="result-title">K·∫øt qu·∫£ thi: {{ testTitle() }}</h1>
        <div class="action-buttons">
          <button class="btn btn-primary" (click)="viewAnswer(0)">Xem ƒë√°p √°n</button>
          <button class="btn btn-secondary">Quay v·ªÅ trang ƒë·ªÅ thi</button>
        </div>
      </div>

      <!-- Statistics -->
      <div class="statistics">
        <div class="stat-item">
          <div class="stat-icon">‚úì</div>
          <div class="stat-content">
            <div class="stat-label">K·∫øt qu·∫£ l√†m b√†i</div>
            <div class="stat-value">{{ correctAnswers() }}/{{ totalQuestions() }}</div>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon">‚úì</div>
          <div class="stat-content">
            <div class="stat-label">Tr·∫£ l·ªùi ƒë√∫ng</div>
            <div class="stat-value green">{{ correctAnswers() }}<br>c√¢u h·ªèi</div>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon">‚úó</div>
          <div class="stat-content">
            <div class="stat-label">Tr·∫£ l·ªùi sai</div>
            <div class="stat-value red">{{ wrongAnswers() }}<br>c√¢u h·ªèi</div>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon">‚óã</div>
          <div class="stat-content">
            <div class="stat-label">B·ªè qua</div>
            <div class="stat-value gray">{{ skippedAnswers() }}<br>c√¢u h·ªèi</div>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon">%</div>
          <div class="stat-content">
            <div class="stat-label">ƒê·ªô ch√≠nh x√°c (#ƒë√∫ng/#t·ªïng)</div>
            <div class="stat-value">{{ accuracy() }}%</div>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon">üïê</div>
          <div class="stat-content">
            <div class="stat-label">Th·ªùi gian ho√†n th√†nh</div>
            <div class="stat-value">{{ timeSpent() }}</div>
          </div>
        </div>
      </div>

      <!-- Tips Section -->
      <div class="tips-section">
        <div class="tips-header">
          <span class="tips-icon">üí°</span>
          <span class="tips-title">ƒê√°p √°n</span>
        </div>
        <div class="tips-actions">
          <button class="btn-tip">Xem chi ti·∫øt ƒë√°p √°n</button>
          <button class="btn-tip">L√†m l·∫°i c√°c c√¢u sai</button>
          <button class="btn-tip">
            <em>Ch√∫ √Ω: Khi l√†m l·∫°i c√°c c√¢u sai, ƒëi·ªÉm trung b√¨nh c·ªßa b·∫°n s·∫Ω KH√îNG B·ªä ·∫¢NH H∆Ø·ªûNG.</em>
          </button>
        </div>
      </div>

      <!-- Tips Alert -->
      <div class="alert alert-light">
        <span class="alert-icon">‚òÄÔ∏è</span>
        <strong>Tips:</strong> Khi xem chi ti·∫øt ƒë√°p √°n, b·∫°n c√≥ th·ªÉ t·∫°o v√† l∆∞u highlight t·ª´ v·ª±ng, keywords v√† t·∫°o note ƒë·ªÉ h·ªçc v√† tra c·ª©u khi c·∫ßn thi·ªÉu l·∫°i trong t∆∞∆°ng lai.
      </div>

      <!-- Question Details -->
      <div class="question-details-section">
        <h2 class="section-title">Ph√¢n t√≠ch chi ti·∫øt</h2>

        <!-- Tabs -->
        <div class="tabs">
          <button 
            class="tab-btn"
            [class.active]="activeTab() === 'question-8'"
            (click)="setActiveTab('question-8')">
            Question 8
          </button>
          <button 
            class="tab-btn"
            [class.active]="activeTab() === 'questions-1-5'"
            (click)="setActiveTab('questions-1-5')">
            Questions 1-5
          </button>
          <button 
            class="tab-btn"
            [class.active]="activeTab() === 'questions-6-7'"
            (click)="setActiveTab('questions-6-7')">
            Questions 6-7
          </button>
          <button 
            class="tab-btn"
            [class.active]="activeTab() === 'summary'"
            (click)="setActiveTab('summary')">
            T·ªïng qu√°t
          </button>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
          <!-- Questions List -->
          <div *ngIf="activeTab() !== 'summary'" class="questions-list">
            <div class="question-list-header">
              <div class="col-header" style="flex: 0 0 120px;">Ph·∫ßn lo·∫°i c√¢u h·ªèi</div>
              <div class="col-header" style="flex: 1;">S·ªë c√¢u ƒë√∫ng</div>
              <div class="col-header" style="flex: 1;">S·ªë c√¢u sai</div>
              <div class="col-header" style="flex: 1;">S·ªë c√¢u b·ªè qua</div>
              <div class="col-header" style="flex: 1;">ƒê·ªô ch√≠nh x√°c</div>
              <div class="col-header" style="flex: 1;">Danh s√°ch c√¢u h·ªèi</div>
            </div>

            <div *ngFor="let question of getQuestionsByGroup(activeTab())" class="question-row">
              <div class="question-number">{{ question.questionId }}</div>
              <div class="question-answer">
                <span *ngIf="question.isCorrect" class="answer-status correct">‚úì</span>
                <span *ngIf="!question.isCorrect" class="answer-status skipped">‚óã</span>
                <span class="answer-text">{{ question.userAnswer || 'Kh√¥ng c√≥ c√¢u tr·∫£ l·ªùi' }}</span>
                <button class="btn-detail" (click)="viewAnswer(question.questionId)">[Chi ti·∫øt]</button>
              </div>
            </div>
          </div>

          <!-- Summary Tab -->
          <div *ngIf="activeTab() === 'summary'" class="summary-tab">
            <p>Xem t·ªïng quan v·ªÅ k·∫øt qu·∫£ b√†i thi c·ªßa b·∫°n</p>
            <div class="summary-stats">
                <div class="summary-item">
                  <strong>Questions 1-5:</strong> {{ countCorrectInGroup('questions-1-5') }}/5 ƒë√∫ng
                </div>
                <div class="summary-item">
                  <strong>Questions 6-7:</strong> {{ countCorrectInGroup('questions-6-7') }}/2 ƒë√∫ng
                </div>
                <div class="summary-item">
                  <strong>Question 8:</strong> {{ countCorrectInGroup('question-8') }}/1 ƒë√∫ng
                </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Comments Section -->
      <div class="comments-section">
        <h3 class="comments-title">B√¨nh lu·∫≠n</h3>
        <textarea 
          class="comment-input" 
          placeholder="Chia s·∫ª c·∫£m nghƒ© c·ªßa b·∫°n ...">
        </textarea>
        <button class="btn btn-primary">G·ª≠i</button>
      </div>
    </div>
  </div>
</div>
